<div data-ng-controller="orderCtrl" data-ng-init="getOrder()">

<h1 dir="rtl">{{form.title}}</h1>
<br>

<div class="container col-sm-12">

	<div class="readOnly col-sm-6">	
	  <form role="form">
	    <fieldset>
				  
			<div ng-repeat="field in form.fields | filter:{ fieldType: 'Read Only'}">
		      <div class="form-group col-sm-12" ng-if="field.type!='EmbedHyperlink' && field.type!='Hyperlink'">
		        <div class="col-sm-7">
		          <input type="text" class="form-control" name="{{field.name}}" id="{{field.name}}" ng-model="field.value" ng-disabled="{{field.fieldType=='Read Only'}}">
		        </div>
		        <label class="col-sm-5 control-label" for="{{field.name}}">{{field.name}}</label>
		      </div>
		      
		      <div class="form-group col-sm-12" ng-if="field.type=='EmbedHyperlink'">
		        	<label class="col-sm-12 control-label" for="{{field.name}}">{{field.name}}</label>
		        	<div class="col-sm-12">
		         	<iframe ng-src="{{field.value}}" class="form-control" name="{{field.name}}" id="iframe"></iframe>
		        	</div>
		      </div>
		      <div class="form-group col-sm-12" ng-if="field.type=='Hyperlink'">
		      	<div class="col-sm-7">
		         	<a href="{{field.value}}" class="form-control" name="{{field.name}}" id="{{field.name}}" >Link </a>
		        	</div>
		        	<label class="col-sm-5 control-label" for="{{field.name}}">{{field.name}}</label>
		      </div>
		      
		 	</div>
	    </fieldset>
	  </form>
	</div>
	
	<div class="edit col-sm-6">	
	  <form role="form">
	    <fieldset>
				  
			<div ng-repeat="field in form.fields | filter:{ fieldType: 'Edit' }">
		      <div class="form-group col-sm-12" ng-if="field.type=='TEXT'" >
		        <div class="col-sm-7">
		          <input type="text" dir="rtl" class="form-control" name="{{field.name}}" id="{{field.name}}" ng-model="field.value" ng-disabled="{{field.fieldType=='Read Only'}}">
		        </div>
		        <label class="col-sm-5 control-label" for="{{field.name}}">{{field.name}}</label>
		      </div>
	
		      <div class="form-group col-sm-12" ng-if="field.type=='LIST'" >
		        <div class="col-sm-7">
		        	<select dir="rtl" class="form-control" name="{{field.name}}" id="{{field.name}}" ng-model="field.value" ng-disabled="{{field.fieldType=='Read Only'}}">
		        		<option class="form-control" ng-repeat="value in field.listValues track by $index" ng-selected="value==field.value">{{value}}</option>
		        	</select>
		        </div>
		        <label class="col-sm-5 control-label" for="{{field.name}}">{{field.name}}</label>
		      </div>
		   
		      <div class="form-group col-sm-12" ng-if="field.type=='DATE'">
		       <div class="col-sm-7">
		         <p class="input-group">
		             <input type="text" class="form-control" name="{{field.name}}" id="{{field.name}}" datetime-picker="dd-MM-yyyy" ng-model="field.value" value="{{field.value}}" enable-time="false" close-on-date-selection="true" is-open="field.dateTimeCalendarisOpen" />
		             <span class="input-group-btn">
		                 <button type="button" class="btn btn-default" ng-click="openDateTimeCalendar($event, field)" ng-disabled="{{field.fieldType=='Read Only'}}"><i class="fa fa-calendar"></i></button>
		             </span>
		         </p>
		       </div>
		       	<label class="col-sm-5 control-label" for="{{field.name}}">{{field.name}}</label>
		       </div> 
		      <div class="form-group col-sm-12" ng-if="field.type=='DATETIME'">
		       <div class="col-sm-7">
		         <p class="input-group">
		             <input type="text" class="form-control" name="{{field.name}}" id="{{field.name}}" datetime-picker="dd-MM-yyyy HH:mm" ng-model="field.value" value="{{field.value}}" enable-time="true" close-on-date-selection="true" is-open="field.dateTimeCalendarisOpen" timepicker-options="timeOptions"/>
		             <span class="input-group-btn">
		                 <button type="button" class="btn btn-default" ng-click="openDateTimeCalendar($event, field)" ng-disabled="{{field.fieldType=='Read Only'}}"><i class="fa fa-calendar"></i></button>
		             </span>
		         </p>
		       </div>
		       	<label class="col-sm-5 control-label" for="{{field.name}}">{{field.name}}</label>
		       </div>        
		       
		              
		   </div>
		   
	     <div class="form-group col-sm-12" ng-if="!inProgress">
	        <div class="col-sm-4">
	          <button type="button" class="btn btn-success" ng-click="updateOrder()">חשב ושמור</button>
	        </div>
	        <div class="col-sm-2">
	          <button type="button" class="btn btn-info" ng-click="calcOrder()">חשב</button>
	        </div>
	      </div>
	 
		  <div class="progress col-sm-7" ng-if="inProgress">
		    <div class="progress-bar" role="progressbar" progress-bar-watch="progress" progress-bar aria-valuenow="" aria-valuemin="0" aria-valuemax="100" style="width:{{progress}}%"></div>
		  </div>
		         
	    </fieldset>
	  </form>
	</div>
	
</div>
