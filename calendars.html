<title>Calendars configuration</title>
<link rel="stylesheet" href="css/style.css">
<div class="calendars" data-ng-controller="calendarsCtrl" data-ng-init="initCalendars()">

	<form role="form" class="form-horizontal">
		<div class="form-group row">
			<div class="col-sm-2">
				<div class="col-sm-2"></div>
    			<label class="control-label">Calendar Name</label>
    		</div>
			<div class="col-sm-2">
    			<label class="control-label">Event Date</label>
    		</div>
			<div class="col-sm-2">
    			<label class="control-label">Event Title</label>
    		</div>
			<div class="col-sm-2">
    			<label class="control-label">Event Location</label>
    		</div>
    		<div class="col-sm-2">
    			<label class="control-label">Participants</label>
    		</div>
			<div class="col-sm-2">
    			<label class="control-label">Form</label>
    		</div>
    	</div>

		<div class="calendar row" ng-repeat="calendar in calendarList track by $index">
			<div class="col-sm-2">
				<div class="col-sm-2" ng-mouseLeave="onMouseLeave()" ng-mouseover="onMouseover()" >
					<span class="glyphicon glyphicon-remove" ng-click="removeCalendar(calendar)" style="color: red"></span>
					<span class="glyphicon glyphicon-plus" ng-click="addCalendar(calendar)" style="color: green"> </span>
				</div>
				<div class="col-sm-10">
					<input type=text class="form-control col-sm-10" ng-model="calendar.name" ng-change="calChanged(calendar, 'name')" ng-class="calendar.nameChanged?'redText':''">
				</div>
    		</div>
			<div class="col-sm-2">
				<select class="form-control" ng-model="calendar.fieldName" ng-change="calChanged(calendar, 'date')" ng-class="calendar.dateChanged?'redText':''">
			        <option ng-repeat="field in dateFieldList">{{field.name}}</option>
				</select>
    		</div>
			<div class="col-sm-2">
				<select class="form-control" ng-model="calendar.titleName" ng-change="calChanged(calendar, 'title')" ng-class="calendar.titleChanged?'redText':''">
			        <option ng-repeat="field in noDateFieldList">{{field.name}}</option>
				</select>
    		</div>
			<div class="col-sm-2">
				<select class="form-control" ng-model="calendar.locationName" ng-change="calChanged(calendar, 'location')" ng-class="calendar.locationChanged?'redText':''">
			        <option ng-repeat="field in noDateFieldList">{{field.name}}</option>
				</select>
    		</div>
			<div class="col-sm-2">
				<select class="form-control" ng-model="calendar.participantsName" ng-change="calChanged(calendar, 'participants')" ng-class="calendar.participantsChanged?'redText':''">
			        <option ng-repeat="field in noDateFieldList">{{field.name}}</option>
				</select>
    		</div>
			<div class="col-sm-2">
				<select class="form-control" ng-model="calendar.formName" ng-change="calChanged(calendar, 'form')" ng-class="calendar.formChanged?'redText':''">
			        <option ng-repeat="form in formList">{{form.title}}</option>
				</select>
    		</div>    		
		</div>
		<br>
		<div class="row">
			<button type="submit" class="btn btn-success" ng-click="saveCalendars()" ng-disabled="!changed || inProgress">Save</button>
			<div class="col-sm-1"></div>
			<button class="btn btn-warning"  ng-click="closeForm()">Close</button>
		</div>
	</form>

</div>

